<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.huchengzhen.goserver.mapper.UserMapper">

    <select id="findUserById" resultType="com.huchengzhen.goserver.model.User">
        select id,
               username,
               password,
               email,
               phone_number,
               create_time,
               avatar,
               last_login_time,
               email_active,
               role
        from user
        where id = #{id}
    </select>

    <insert id="insert" parameterType="com.huchengzhen.goserver.model.User">
        insert into user(id,
                         username,
                         password,
                         email,
                         phone_number,
                         create_time,
                         avatar,
                         last_login_time,
                         email_active,
                         role)
        values (null,
                #{username},
                #{password},
                #{email},
                #{phoneNumber},
                now(),
                null,
                null,
                false,
                #{role})
    </insert>

    <select id="findUserByUsername" resultType="com.huchengzhen.goserver.model.User">
        select id,
               username,
               password,
               email,
               phone_number,
               create_time,
               avatar,
               last_login_time,
               email_active,
               role
        from user
        where username = #{username}
    </select>
</mapper>